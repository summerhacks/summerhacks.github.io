/*! skrollr-menu 0.1.4 (2013-06-23) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr-menu | Free to use under terms of MIT license */
(function(t,e){"use strict";var n=500,r="sqrt",o="data-menu-top",a="data-menu-offset",i=e.skrollr,u=e.history,s=!!u.pushState,c=function(e){return"A"===e.tagName?e:e===t?!1:c(e.parentNode)},l=function(t){if(1===(t.which||t.button)){var e=c(t.target);e&&f(e)&&t.preventDefault()}},f=function(e,n){var r=e.getAttribute("href");if(!/^#/.test(r))return!1;var i,c=e.getAttribute(o);if(null!==c)i=+c;else{var l=t.getElementById(r.substr(1));if(!l)return!1;i=v.relativeToAbsolute(l,"top","top");var f=l.getAttribute(a);null!==f&&(i+=+f)}return s&&!n&&u.pushState({top:i},"",r),m&&!n?v.animateTo(i,{duration:h,easing:d}):p(function(){v.setScrollTop(i)}),!0},p=function(t){e.setTimeout(t,1)};i.menu={},i.menu.init=function(o,a){v=o,a=a||{},h=a.duration||n,d=a.easing||r,m=a.animate!==!1,i.addEvent(t,"click",l),s&&e.addEventListener("popstate",function(t){var e=t.state||{},n=e.top||0;p(function(){v.setScrollTop(n)})},!1)};var v,d,h,m;p(function(){if(e.location.hash&&(e.scrollTo(0,0),t.querySelector)){var n=t.querySelector('a[href="'+e.location.hash+'"]');n&&f(n,!0)}})})(document,window);